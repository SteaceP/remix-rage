# Dependabot configuration for Remix Rage
# React Router v7 application deployed on Cloudflare Pages
# https://docs.github.com/github/administering-a-repository/configuration-options-for-dependency-updates

version: 2
updates:
    # pnpm dependencies
    - package-ecosystem: "npm"
      directory: "/"
      schedule:
          interval: "weekly"
          day: "monday"
          time: "09:00"
          timezone: "America/New_York"
      open-pull-requests-limit: 5
      versioning-strategy: increase
      reviewers:
          - "SteaceP"
      labels:
          - "dependencies"
          - "automated"
      commit-message:
          prefix: "chore(deps):"
          include: "scope"
      pull-request-branch-name:
          separator: "/"
      groups:
          # Critical framework updates - React Router & React
          core-framework:
              patterns:
                  - "react"
                  - "react-dom"
                  - "react-router"
                  - "@react-router/*"
              update-types:
                  - "minor"
                  - "patch"
          # Type definitions for framework
          core-types:
              patterns:
                  - "@types/react"
                  - "@types/react-dom"
                  - "@types/node"
          # Cloudflare infrastructure
          cloudflare:
              patterns:
                  - "@cloudflare/*"
                  - "wrangler"
              exclude-patterns:
                  - "wrangler" # Handled separately in ignore section
          # Styling system - Tailwind CSS ecosystem
          styling:
              patterns:
                  - "tailwindcss"
                  - "@tailwindcss/*"
          # Linting & code quality
          linting:
              patterns:
                  - "eslint"
                  - "eslint-*"
                  - "@typescript-eslint/*"
              exclude-patterns:
                  - "typescript" # Keep TypeScript separate
          # Build tools & bundlers
          build-tools:
              patterns:
                  - "vite"
                  - "vite-*"
                  - "typescript"
          # Runtime utilities (production dependencies)
          runtime-utilities:
              patterns:
                  - "isbot"
                  - "react-icons"
                  - "zod"
      ignore:
          # Pin wrangler to avoid breaking changes
          - dependency-name: "wrangler"
            update-types: ["version-update:semver-major"]
          # Major version updates require manual review
          - dependency-name: "react"
            update-types: ["version-update:semver-major"]
          - dependency-name: "react-dom"
            update-types: ["version-update:semver-major"]
          - dependency-name: "react-router"
            update-types: ["version-update:semver-major"]
          - dependency-name: "typescript"
            update-types: ["version-update:semver-major"]
          - dependency-name: "vite"
            update-types: ["version-update:semver-major"]

    # GitHub Actions dependencies
    - package-ecosystem: "github-actions"
      directory: "/"
      schedule:
          interval: "weekly"
          day: "monday"
          time: "09:00"
          timezone: "America/New_York"
      labels:
          - "dependencies"
          - "github-actions"
      commit-message:
          prefix: "chore(ci):"
      pull-request-branch-name:
          separator: "/"
